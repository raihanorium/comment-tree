<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<div class="comment" th:fragment="showComment(comment)">
    <p th:text="${comment.comment}">Comment</p>

    <ul th:if="${comment.replies != null && comment.replies.size() > 0}">
        <li th:each="reply: ${comment.replies}">
            <div th:replace="~{fragments/comment :: showComment(${reply})}"></div>
        </li>
    </ul>
</div>
</html>